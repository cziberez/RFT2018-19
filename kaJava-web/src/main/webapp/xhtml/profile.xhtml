<ui:composition template="/WEB-INF/templates/base_template.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui">

    <ui:define name="windowTitle">
        <h:outputText value="#{msg['index.windowTitle']}"/>
    </ui:define>

    <ui:define name="content">
        <h:form id="profileForm">
            <p:tabView>
                <p:tab title="#{msg['profile.user.datas']}">
                    <p:panelGrid columns="2" cellpadding="10">
                        <p:outputLabel id="profileUsernameLabel" value="#{msg['menu.username']}"/>
                        <p:inputText id="profileUsernameInput" value="#{userBean.userVo.username}"/>
                        <p:outputLabel id="profileFirstnameLabel" value="#{msg['menu.firstname']}"/>
                        <p:inputText id="profileFirstnameInput" value="#{userBean.userVo.firstname}"/>
                        <p:outputLabel id="profileLastnameLabel" value="#{msg['menu.lastname']}"/>
                        <p:inputText id="profileLastnameInput" value="#{userBean.userVo.lastname}"/>
                        <p:outputLabel id="profileEmailLabel" value="#{msg['menu.email']}"/>
                        <p:inputText id="profileEmailInput" value="#{userBean.userVo.email}"/>
                        <p:outputLabel id="profilePhoneLabel" value="#{msg['menu.phonenumber']}"/>
                        <p:inputText id="profilePhoneInput" value="#{userBean.userVo.phoneNumber}"/>
                        <p:commandButton value="#{msg['save']}"/>
                    </p:panelGrid>
                </p:tab>
                <p:tab title="#{msg['profile.shipping.datas']}">

                    <p:panelGrid columns="2" cellpadding="10" style="justify-content: center;align-content: center;">
                        <p:outputLabel id="profileCityLabel" value="#{msg['menu.city']}"/>
                        <p:inputText id="profileCityInput" value="#{userBean.userVo.addressVo.city}"/>
                        <p:outputLabel id="profilePostCodetLabel" value="#{msg['menu.postcode']}"/>
                        <p:inputText id="profilePostCodeInput" value="#{userBean.userVo.addressVo.postCode}"/>
                        <p:outputLabel id="profileStreetLabel" value="#{msg['menu.street']}"/>
                        <p:inputText id="profileStreetInput" value="#{userBean.userVo.addressVo.street}"/>
                        <p:outputLabel id="profileHouseNumberabel" value="#{msg['menu.housenumber']}"/>
                        <p:inputText id="profilehouseNumberInput" value="#{userBean.userVo.addressVo.houseNumber}"/>
                        <p:outputLabel id="profileFloorLabel" value="#{msg['menu.floor']}"/>
                        <p:inputText id="profileFloorInput" value="#{userBean.userVo.addressVo.floor}"/>
                        <p:outputLabel id="profileDoorLabel" value="#{msg['menu.door']}"/>
                        <p:inputText id="profileDoorInput" value="#{userBean.userVo.addressVo.door}"/>

                        <p:commandButton id="modifyButton" value="#{msg['save']}"
                                         actionListener="#{userBean.modifyAddress}" process="@form"
                                         update="@this"/>
                    </p:panelGrid>
                </p:tab>

                <p:tab title="#{msg['profile.order.history']}">
                    <p:repeat value="#{orderBean.myOrders}" var="order">
                        <h:panelGrid columns="2" style="width:400px" columnClasses="logo,detail">

                            <h:outputText value="#{msg['order.date']}:"/>
                            <h:outputText value="#{order.recDate}" style="font-weight: bold"/>

                            <h:outputText value="#{msg['food.price']}:"/>
                            <h:outputText value="#{order.price} Huf" style="font-weight: bold"/>

                            <h:outputText value="#{msg['basket']}:"/>

                        </h:panelGrid>
                        <h:panelGrid columns="2" style="width:400px" columnClasses="logo,detail">
                            <p:repeat value="#{order.orderedFood}" var="food">
                                <p:graphicImage style="width:150px;"
                                                url="https://www.nosalty.hu/files/imagecache/recept/recept_kepek/246177_249445_cover_post_32.jpg"/>
                                <p:outputPanel>
                                    <h:panelGrid columns="2" cellpadding="5">
                                        <h:outputText value="#{msg['food.name']}:"/>
                                        <h:outputText value="#{food.name}" style="font-weight: bold"/>

                                        <h:outputText value="#{msg['food.price']}:"/>
                                        <h:outputText value="#{food.price} Huf" style="font-weight: bold"/>

                                        <h:outputText value="#{msg['food.category']}:"/>
                                        <h:outputText value="#{food.category}" style="font-weight: bold"/>
                                    </h:panelGrid>
                                </p:outputPanel>
                            </p:repeat>
                        </h:panelGrid>
                        <hr/>
                    </p:repeat>
                </p:tab>

            </p:tabView>
        </h:form>
    </ui:define>

</ui:composition>
